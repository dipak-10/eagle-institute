{% extends "base.html" %}
{% load static %}
{% block content %}

<!-- Courses -->
<section>
  <p
    class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px] font-semibold flex justify-center lg:py-10 md:py-8 sm:py-8 py-8">
    About Management
  </p>
  <div class="mx-auto rounded-xl overflow-hidden ">
    <p
      class="lg:text-[44px] md:text-[30px] sm:text-[35px] text-[28px] font-semibold flex xl:justify-left lg:justify-left  lg:py-12 md:py-8 sm:py-6 py-6 md:flex mx-16 ">
      Founder
    </p>
  </div>

  <section class="about-managment">
    <div class="mx-auto rounded-xl overflow-hidden">
      <div
        class="md:flex justify-center flex-wrap  xl:mx-[45px] 2xl:mx-[50px] lg:mx-[30px] md:mx-[30px] sm:mx-[30px] mx-[25px] lg:py-8 md:py-8 sm:py-2 py-2">
        {% comment %} <div class="p-4  w-full md:w-1/2 lg:my-4  md:px-4   lg:w-1/3 " id="founder1">
          <div class="branches-img founder-img">
            <img class="rounded-md w-full h-3/6" src="images/5.png" />
          </div>
          <div
            class="lg:text-4xl md:text-3xl sm:text-2xl text-xl font-medium text-center lg:py-8 md:py-6 sm:py-4 lg:pt-10 md:pt-8 sm:pt-6 pt-4 course-title founder_name">
            James Robert</div>
        </div>
        <div class="p-4  w-full md:w-1/2 lg:my-4  md:px-4  lg:w-1/3" id="founder2">
          <div class="branches-img founder-img">
            <img class="rounded-md w-full h-3/6" src="images/5.png" />
          </div>
          <div
            class="lg:text-4xl md:text-3xl sm:text-2xl text-xl font-medium text-center lg:py-8 md:py-6 sm:py-4 lg:pt-10 md:pt-8 sm:pt-6 pt-4 course-title founder_name">
            James Robert</div>
        </div>
        <div class="p-4  w-full md:w-1/2 lg:my-4  md:px-4   lg:w-1/3  " id="founder3">
          <div class="branches-img founder-img">
            <img class="rounded-md w-full h-3/6" src="images/5.png" />
          </div>
          <div
            class="lg:text-4xl md:text-3xl sm:text-2xl text-xl font-medium text-center lg:py-8 md:py-6 sm:py-4 lg:pt-10 md:pt-8 sm:pt-6 pt-4 course-title founder_name">
            James Robert</div>
        </div> {% endcomment %}

      </div>
    </div>
  </section>
</section>

<!-- Reviews -->
{% comment %} <section id="testimonials" class="review-wraper section-bg  relative ">
  <div class="mx-auto  rounded-xl overflow-hidden xl:mx-[55px] md:mx-[1px] ">
    <p
      class="lg:text-[44px] md:text-[30px] sm:text-[35px] text-[28px] font-semibold flex xl:justify-left lg:justify-left  lg:py-12 md:py-8 sm:py-6 py-6 md:flex mx-16 ">
      HOD
    </p>
    <p
      class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px] font-semibold flex justify-center lg:py-10 md:py-8 sm:py-8 py-8">
      Mini Bazar
    </p>
  </div>
  <div class="about-managment">
    <div class="swiper mySwiper py-[45px] lg:mx-16 md:mx-10 sm:mx-8 mx-5">
      <div class="swiper-wrapper">
        <div class="swiper-slide w-[530px] relative" id="reviewSection">
          <div class="p-4">
            <img class="rounded-md w-full lg:p-0 md:p-0 sm:p-0 p-4 review_img" src="images/5.png" />
          </div>
        </div>
        <div class="swiper-slide w-[530px] relative" id="reviewSection2">
          <div class="p-4">
            <img class="rounded-md w-full lg:p-0 md:p-0 sm:p-0 p-4 review_img" src="images/5.png" />
          </div>
        </div>
        <div class="swiper-slide w-[530px] relative" id="reviewSection3">
          <div class="p-4">
            <img class="rounded-md w-full lg:p-0 md:p-0 sm:p-0 p-4 review_img" src="images/5.png" />
          </div>
        </div>
        <div class="swiper-slide w-[530px] relative" id="reviewSection4">
          <div class="p-4">
            <img class="rounded-md w-full lg:p-0 md:p-0 sm:p-0 p-4 review_img" src="images/5.png" />
          </div>
        </div>
      </div>
    </div>
    <div class="swiper-button-prev1 lg:top-[71%] md:top-[72%] sm:top-[72%] top-[72%]"></div>
    <div class="swiper-button-next1 lg:top-[71%] md:top-[72%] sm:top-[72%] top-[72%]"></div>
  </div>
</section> {% endcomment %}

<section id="testimonials" class="review-wraper section-bg  relative">
  <div class="mx-auto  rounded-xl overflow-hidden xl:mx-[55px] md:mx-[1px] ">
      <p class="lg:text-[44px] md:text-[30px] sm:text-[35px] text-[28px] font-semibold flex xl:justify-left lg:justify-left  lg:py-12 md:py-8 sm:py-6 py-6 md:flex mx-16 ">
          HOD
      </p>
      <p class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px] font-semibold flex justify-center lg:py-10 md:py-8 sm:py-8 py-8">
          Mini Bazar
      </p>
  </div>
  <div class="about-managment">
      <div class="swiper mySwiper py-[45px] lg:mx-16 md:mx-10 sm:mx-8 mx-5">
          <div class="swiper-wrapper" id="reviewsWrapper">
              <!-- Customer reviews will be dynamically added here -->
          </div>
      </div>
      <div class="swiper-button-prev1 lg:top-[71%] md:top-[72%] sm:top-[72%] top-[72%]"></div>
      <div class="swiper-button-next1 lg:top-[71%] md:top-[72%] sm:top-[72%] top-[72%]"></div>
  </div>
</section>
 <!-- branch -->

 <section class=" branch-wrapper ">
  <div class="mx-auto rounded-xl overflow-hidden">
    <p
      class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px]  font-semibold flex justify-center lg:py-10 md:py-8 sm:py-4 py-4 ">
      Branch
    </p>
    <div class="md:flex justify-center flex-wrap  xl:mx-[40px] 2xl:mx-[40px] lg:py-8 md:py-8 sm:py-2 py-2 mx-[20px]" id="branchSection">
      <!--  Add branch section -->
    </div>
  </div>
</section>



<script src="{% static '/script/cdn.tailwindcss.com_3.3.3' %}" rel="stylesheet"></script>
<!-- header -->
<script src="{% static '/script/unpkg.com_@themesberg_flowbite@1.1.1_dist_flowbite.bundle.js' %}"></script>
<script src="{% static '/script/cdn.jsdelivr.net_gh_alpinejs_alpine@v2.x.x_dist_alpine.min.js' %}" defer></script>
<script src="{% static '/script/cdnjs.cloudflare.com_ajax_libs_jquery_3.0.0_jquery.min.js' %}"></script>
<!-- banner slider -->
<script src="{% static '/script/cdnjs.cloudflare.com_ajax_libs_Swiper_3.4.1_js_swiper.min.js' %}"></script>
<!-- review slider -->
<script src="{% static '/script/unpkg.com_swiper@8.4.7_swiper-bundle.min.js' %}" type="text/javascript"></script>
<script>
  $(document).ready(function () {
    // Swiper: Slider banner
    new Swiper('.swiper-container', {
      loop: true,
      slidesPerView: 1,
      paginationClickable: true,
      spaceBetween: 20,
      autoplay: true,
      breakpoints: {
        1920: {
          slidesPerView: 1,
          spaceBetween: 30
        },
        1028: {
          slidesPerView: 1,
          spaceBetween: 30
        },
        480: {
          slidesPerView: 1,
          spaceBetween: 10
        }
      }
    });
  });
</script>
<!-- review slider -->
<script>
  var swiper = new Swiper(".mySwiper", {
    slidesPerView: 3,
    loop: true,
    autoplay: true,
    nextButton: '.swiper-button-next1',
    prevButton: '.swiper-button-prev1',
    paginationClickable: true,
    loopFillGroupWithBlank: true,
    breakpoints: {
      1920: {
        slidesPerView: 3,
        spaceBetween: 30
      },
      1028: {
        slidesPerView: 3,
        spaceBetween: 30
      },
      480: {
        slidesPerView: 2,
        spaceBetween: 10
      },
      320: {
        slidesPerView: 1,
        spaceBetween: 10
      }
    },
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
    },
    navigation: {
      nextEl: ".swiper-button-next1",
      prevEl: ".swiper-button-prev1",
    },
  });


  //Founder API
  fetch('/api/founder-details/')
  .then((response) => response.json())
  .then((data) => {
      const foundersContainer = document.querySelector('.about-managment .mx-auto .flex-wrap');

      // Iterate through founder details
      data.founder_details.forEach((founder, index) => {
          const founderElement = document.createElement('div');
          founderElement.classList.add('p-4', 'w-full', 'md:w-1/2', 'lg:my-4', 'md:px-4', 'lg:w-1/3');
          founderElement.id = `founder${index + 1}`;

          founderElement.innerHTML = `
              <div class="branches-img founder-img">
                  <img class="rounded-md w-full h-3/6" src="${founder.founder_image}" />
              </div>
              <div class="lg:text-4xl md:text-3xl sm:text-2xl text-xl font-medium text-center lg:py-8 md:py-6 sm:py-4 lg:pt-10 md:pt-8 sm:pt-6 pt-4 course-title founder_name">
                  ${founder.founder_name}
              </div>
          `;

          foundersContainer.appendChild(founderElement);
      });
  })
  .catch((error) => {
      console.error(error, 'Error in API call');
  });

  //Review API
  fetch('/api/review-details/')
                .then((response) => response.json())
                .then((data) => {
                    const reviewsWrapper = document.getElementById('reviewsWrapper');

                    // Iterate through customer reviews
                    data.customer_review_details.forEach((review, index) => {
                        const reviewSection = document.createElement('div');
                        reviewSection.classList.add('swiper-slide', 'w-[530px]', 'relative');
                        reviewSection.id = `reviewSection${index + 1}`;

                        reviewSection.innerHTML = `
                            <div class="p-4">
                                <img class="rounded-md w-full lg:p-0 md:p-0 sm:p-0 p-4 review_img" src="${review.customer_image}" />
                            </div>
                            <!-- Add any additional elements for review details -->
                        `;

                        reviewsWrapper.appendChild(reviewSection);
                    });
                })
                .catch((error) => {
                    console.error(error);
                });

   //Branch API
   fetch('/api/branch-details/') // Replace with the actual API URL
   .then((response) => response.json())
   .then((data) => {
     const branchSection = document.querySelector("#branchSection");
     if(data['message'] == "success"){
       for(let i=0;i<=data['branch_details'].length;i++){
         const branchSlider = document.createElement("div");
         branchSlider.className = "p-4  w-full md:w-1/2 lg:my-4  md:px-4   lg:w-1/3   "
         branchSlider.innerHTML = `
             <div class="branches-img">
               <img class="rounded-md w-full xl:h-[25rem] lg:h-[20rem]  md:h-[20rem] sm:h-[30rem] branchImg" src="${data['branch_details'][i]['branch_image']}" />
               <div class="branches-layer text-center">
                 <div
                   class="flex justify-center items-center flex-col xl:p-4 lg:p-4 md:p-4 sm:p-2 p-1 xl:py-3 lg:py-2 bg-black border-b-2 border-gray-100">
                   <div
                     class=" 2xl:text-4xl xl:text-3xl lg:text-lg text-[15px]  xl:py-1 2xl:py-4 lg:py-1 md:py-1 sm:py-1 py-0 branch_name">
                     ${data['branch_details'][i]['branch_name']}              
                   </div>
                 </div>
                 <div>
                   <ul>
                     <li
                       class="2xl:text-[28px] xl:text-[14px] lg:text-[15px] md:text-[16px] sm:text-[16px] text-[12px] text-left px-4 pt-2 xl:px-8 lg:px-6 md:px-4 2xl:py-4 lg:py-1 md:py-1 xl:pt-3 lg:pt-2 flex items-start">
                       <span>Address&nbsp;:-</span>
                       <sapn class="branch_address">
                         &nbsp;${data['branch_details'][i]['branch_address']}
                       </sapn>
                     </li>
                     <li
                       class="2xl:text-[28px] xl:text-[14px] lg:text-[15px] md:text-[16px] sm:text-[16px] text-[12px] text-left px-4 pt-2 xl:px-8 lg:px-6 md:px-4 2xl:py-4 lg:py-1 md:py-1 xl:pt-3 lg:pt-2 flex items-start">
                       <span>Contact :-</span>
                       <span >&nbsp;<span class="branch_number_1">${data['branch_details'][i]['branch_contact_number_1']}</span> <br />
                         &nbsp;<span class="branch_number_2">${data['branch_details'][i]['branch_contact_number_2']}<span></span>
                     </li>
                   </ul>
                 </div>
               </div>
             </div>
         `
         branchSection.appendChild(branchSlider)
       }
       
     }else{
       console.log("Branch details api data is not found")
     } 
   })
   .catch((error) => {
     console.error(error, 'Branch details api is not working')
   })
</script>

{% endblock %}