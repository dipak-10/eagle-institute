{% extends "base.html" %}
{% load static %}
{% block content %}

  <!-- vision -->
  <section class="lg:mx-16 md:mx-10 sm:mx-8 mx-5 " id="visionSection">
    <div
      class=" lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px] font-semibold text-[#011C39] text-center vision-heading">
      Our Vision
    </div>
    <div class=" mx-auto rounded-xl overflow-hidden h-[inherit]">
      <div class="md:flex  flex-wrap -mx-1 lg:-mx-4 py-8 lg:pb-18 md:pb-14 sm:pb-10 pb-10">
        <div class="p-4  w-full md:w-full lg:my-4 lg:px-4 lg:w-1/2  branch-box-banner">
          <!-- Add Image -->
        </div>
        <div class="lg:p-4 md:p-2 p-2  w-full md:w-full lg:my-4 lg:px-4 lg:w-1/2   branch-box">
          <span class="text-[32px] text-[#011C39] font-semibold pt-8 flex items-center sm:pt-0 ">
            <img src="{% static './images/line2.png' %}" class="w-20 ">
            <span class="vision-title"></span>
          </span>
          <ul
            class="list-disc lg:text-[21px] md:text-[18px] sm:text-[18px] text-[20px]  tracking-wide lg:leading-10 md:leading-8 lg:pr-28 md:pr-10 sm:pr-0 pr-0 lg:p-8 md:p-6 sm:p-4 p-4 sm:ps-8 ps-6">
            <!-- <li class="lg:leading-[28px] md:leading-[25px] sm:leading-[22px] leading-[20px]"> </li>
            <li class="lg:leading-[28px] md:leading-[25px] sm:leading-[22px] leading-[20px]  py-5"></li>
            <li class="lg:leading-[28px] md:leading-[25px] sm:leading-[22px] leading-[20px]">  </li> -->
          </ul>
        </div>
      </div>
    </div>
  </section>
  <!-- Courses -->
  <section class=" course-wraper">
    <div class="mx-auto rounded-xl overflow-hidden ">
      <p
        class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px] font-semibold flex justify-center lg:py-12 md:py-10 sm:py-8 py-8">
        Courses
      </p>
      <div class="swiper mySwiper lg:py-[45px] md:py-[35px] sm:py-[30px]">
        <div class="swiper-wrapper" id="DomainSection">
          
        </div>
      </div>

  </section>

  <!-- our Blog -->
  <section class="lg:mx-16 md:mx-10 sm:mx-8 mx-5 py-10">
    <div class=" mx-auto rounded-xl overflow-hidden ">
      <p
        class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px] font-semibold flex justify-center lg:py-10 md:py-8 sm:py-8 py-8 ">
        Our Blog
      </p>
      <div class="md:flex justify-center  flex-wrap  mx-1 lg:-mx-4  lg:py-12 md:py-8 sm:py-4 py-4" id="blogsection">
        
      </div>
    </div>
  </section>
  <!-- branch -->

  <section class=" branch-wrapper ">
    <div class="mx-auto rounded-xl overflow-hidden">
      <p
        class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px]  font-semibold flex justify-center lg:py-10 md:py-8 sm:py-4 py-4 ">
        Branch
      </p>
      <div class="md:flex justify-center flex-wrap  xl:mx-[40px] 2xl:mx-[40px] lg:py-8 md:py-8 sm:py-2 py-2 mx-[20px]" id="branchSection">
        <!--  Add branch section -->
      </div>
    </div>
  </section>
  <!-- Reviews -->
  <section id="testimonials" class="review-wraper section-bg xl:mx-[55px] md:mx-[1px] relative">
    <div class="mx-auto  rounded-xl overflow-hidden ">
      <p class="lg:text-[70px] md:text-[35px] sm:text-[20px] text-[30px] font-semibold flex justify-center py-10 ">
        Reviews
      </p>
    </div>
    <div class="swiper mySwiper py-[45px] lg:mx-16 md:mx-10 sm:mx-8 mx-5 ">
      <div class="swiper-wrapper" id="reviewSection">
                
      </div>
    </div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
  </section>
  <!-- Testimonials end -->

  <script src="{% static '/script/cdn.tailwindcss.com_3.3.3/'%}" rel="stylesheet"></script>
  <!-- header -->
  <script src="{% static '/script/unpkg.com_@themesberg_flowbite@1.1.1_dist_flowbite.bundle.js' %}"></script>
  <script src="{% static '/script/cdn.jsdelivr.net_gh_alpinejs_alpine@v2.x.x_dist_alpine.min.js' %}" defer></script>
  <script src="{% static '/script/cdnjs.cloudflare.com_ajax_libs_jquery_3.0.0_jquery.min.js' %}"></script>
  <!-- banner slider -->
  <script src="{% static '/script/cdnjs.cloudflare.com_ajax_libs_Swiper_3.4.1_js_swiper.min.js' %}"></script>
  <!-- review slider -->
  <script src="{% static '/script/unpkg.com_swiper@8.4.7_swiper-bundle.min.js' %}" type="text/javascript"></script>
  <script>
    $(document).ready(function () {
      // Swiper: Slider banner
      new Swiper('.swiper-container', {
        loop: true,
        slidesPerView: 1,
        paginationClickable: true,
        spaceBetween: 20,
        autoplay: true,
        breakpoints: {
          1920: {
            slidesPerView: 1,
            spaceBetween: 30
          },
          1028: {
            slidesPerView: 1,
            spaceBetween: 30
          },
          480: {
            slidesPerView: 1,
            spaceBetween: 10
          }
        }
      });
    });
  </script>
  <!-- review slider -->
  <script>
    var swiper = new Swiper(".mySwiper", {
      slidesPerView: 3,
      loop: true,
      autoplay: true,
      nextButton: '.swiper-button-next',
      prevButton: '.swiper-button-prev',
      paginationClickable: true,
      loopFillGroupWithBlank: true,
      breakpoints: {
        1920: {
          slidesPerView: 3,
          spaceBetween: 30
        },
        1028: {
          slidesPerView: 3,
          spaceBetween: 30
        },
        480: {
          slidesPerView: 2,
          spaceBetween: 10
        },
        320: {
          slidesPerView: 1,
          spaceBetween: 10
        }
      },
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
    });

    


    //vision API
    fetch('/api/our-vision-details/') // Replace with the actual API URL
    .then((response) => response.json())
    .then((data) => {
      const classroomSection = document.querySelector('#visionSection')
      const branch_box_banner = document.querySelector('.branch-box-banner')
      const tracking_wide= document.querySelector(".tracking-wide");
      if(data['message'] == "success"){
        const imageElement = document.createElement('img');
        imageElement.className = 'rounded-md drop-shadow-[4px 4px 15px 0px #00000059] lg:h-[30rem] md:h-[28rem] sm:h-[25rem] h-[18rem] w-full lg:pr-10 md:pr-0 pr-0 visionImg';
        imageElement.src = data.our_vision_details.vision_image;
        branch_box_banner.appendChild(imageElement)
        classroomSection.querySelector('.vision-title').textContent = data.our_vision_details.vision_label
        for (let i = 1; i <= 4; i++) {
            const descriptionLine = data.our_vision_details[`vision_description_line_${i}`];
            if (descriptionLine) {
                const listItem = document.createElement('li');
                listItem.className = "lg:leading-[28px] md:leading-[25px] sm:leading-[22px] leading-[20px]";
                listItem.textContent = descriptionLine;
                if (i === 2) {
                    listItem.classList.add('py-5');
                }
                tracking_wide.appendChild(listItem);
            }
        }
      }else{
        console.log("Our vision details api is not working")
      }  
    })
    .catch((error) => {
      console.error(error, 'Our vision details api error')
    })
    
    //Review API
    fetch('/api/review-details/') 
    .then((response) => response.json())
    .then((data) => {
      const reviewSection = document.querySelector('#reviewSection');
      if(data['message'] == "success"){
        for(let i=0;i<=data['customer_review_details'].length;i++){
          const reviewSlider = document.createElement("div");
          reviewSlider.className = "swiper-slide w-[530px] relative"
          reviewSlider.innerHTML = `
              <div class="p-4  review-box ">
                <div
                  class="flex justify-center absolute 2xl:top-[-20px] 2xl:left-[40%] xl:top-[-20px] xl:left-[35%] lg:top-[-25px] lg:left-[37%] md:top-[-30px] md:left-[34%] sm:top-[-25px] sm:left-[31%] top-[-30px] left-[31%]">
                  <img src="${data['customer_review_details'][i]['customer_image']}" class="rounded-full review-img review_img" />
                </div>
                <div class="pt-16"> 
                  <p class="text-3xl font-semibold py-2 review_name">John Sutil</p>
                  <div class="lg:text-[20px] md:txt-[18px] sm:text-[18px] text-[15px] text-[#00000080] py-2 reviewDescription">
                    “${data['customer_review_details'][i]['customer_review']}”
                  </div>
                  <div class="flex justify-center py-4 ">
                    <img src="{% static '/images/star.png' %}" class="w-3/5 block" />
                  </div>
                </div>
              </div>
          `
          reviewSection.appendChild(reviewSlider)
        }
      }else{
        console.log("Review details api data is not found")
      }  
    })
    .catch((error) => {     
      console.error(error,"Review details api is not working")
    })


    //Branch API
    fetch('/api/branch-details/') // Replace with the actual API URL
    .then((response) => response.json())
    .then((data) => {
      const branchSection = document.querySelector("#branchSection");
      if(data['message'] == "success"){
        for(let i=0;i<=data['branch_details'].length;i++){
          const branchSlider = document.createElement("div");
          branchSlider.className = "p-4  w-full md:w-1/2 lg:my-4  md:px-4   lg:w-1/3   "
          branchSlider.innerHTML = `
              <div class="branches-img">
                <img class="rounded-md w-full h-3/6 branchImg" src="${data['branch_details'][i]['branch_image']}" />
                <div class="branches-layer text-center">
                  <div
                    class="flex justify-center items-center flex-col xl:p-4 lg:p-4 md:p-4 sm:p-2 p-1 xl:py-3 lg:py-2 bg-black border-b-2 border-gray-100">
                    <div
                      class=" 2xl:text-4xl xl:text-3xl lg:text-lg text-[15px]  xl:py-1 2xl:py-4 lg:py-1 md:py-1 sm:py-1 py-0 branch_name">
                      ${data['branch_details'][i]['branch_name']}              
                    </div>
                  </div>
                  <div>
                    <ul>
                      <li
                        class="2xl:text-[28px] xl:text-[14px] lg:text-[15px] md:text-[16px] sm:text-[16px] text-[12px] text-left px-4 pt-2 xl:px-8 lg:px-6 md:px-4 2xl:py-4 lg:py-1 md:py-1 xl:pt-3 lg:pt-2 flex items-start">
                        <span>Address&nbsp;:-</span>
                        <sapn class="branch_address">
                          &nbsp;${data['branch_details'][i]['branch_address']}
                        </sapn>
                      </li>
                      <li
                        class="2xl:text-[28px] xl:text-[14px] lg:text-[15px] md:text-[16px] sm:text-[16px] text-[12px] text-left px-4 pt-2 xl:px-8 lg:px-6 md:px-4 2xl:py-4 lg:py-1 md:py-1 xl:pt-3 lg:pt-2 flex items-start">
                        <span>Contact :-</span>
                        <span >&nbsp;<span class="branch_number_1">${data['branch_details'][i]['branch_contact_number_1']}</span> <br />
                          &nbsp;<span class="branch_number_2">${data['branch_details'][i]['branch_contact_number_2']}<span></span>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
          `
          branchSection.appendChild(branchSlider)
        }
        
      }else{
        console.log("Branch details api data is not found")
      } 
    })
    .catch((error) => {
      console.error(error, 'Branch details api is not working')
    })

//course API
    fetch('/api/course-details/') // Replace with the actual API URL
    .then((response) => response.json())
    .then((data) => {
      const swiper_wrapper= document.querySelector("#DomainSection");
      if(data["message"] == "success"){
        for(let i=0;i <= data['course_details'].length;i++){
          const swiperSlide = document.createElement("div");
          swiperSlide.className = "swiper-slide w-[530px]";
          swiperSlide.innerHTML = `
              <div class="p-4 course-img" id="${data['course_details'][i]['course_name']}Section">
                <div class="course-img">
                  <img class="rounded-md w-full ManualImg" src="${data['course_details'][i]['course_image']}" alt="${data['course_details'][i]['course_name']}load image"/>
                  <div class="course-layer text-center">
                    <button href="#" class="block text-xl rounded text-white border border-white py-1 px-3">
                      Click Here
                    </button>
                  </div>
                </div>
                <div class="xl:text-4xl md:text-3xl text-2xl font-medium text-center py-8 pt-10 course-title Manual-title">
                  ${data['course_details'][i]['course_name']}
                </div>
              </div>
            `;
          swiper_wrapper.appendChild(swiperSlide);
        }
      }else{
        console.log("Course details data is not found")
      }      
    })
    .catch((error) => {
      console.error(error, 'Course details api is not working')
    })

    //Blog API
    fetch('/api/blog-details/') // Replace with the actual API URL
    .then((response) => response.json())
    .then((data) => {
      const blogSection = document.querySelector("#blogsection");
      if(data['message'] == "success"){
        for(let i=0;i<= data['blog_details'].length;i++){
          const blogSlide = document.createElement("div");
          blogSlide.className = "p-4  w-full md:w-[44%]  lg:w-[30%] lg:px-4 md:px-4 px-0 lg:my-4  "
          blogSlide.innerHTML = `
              <div class="blog-box m-2">
                <div class="blog-img">
                  <img class="rounded-md w-5/6 blog_image" src="${data['blog_details'][i]['blog_image']}" />
                  <div class="text-center text-2xl font-medium py-4 blog-title blog_title">
                    ${data['blog_details'][i]['blog_title']}
                  </div>
                  <div class="text-center blog-contant">
                    <p class="py-3 lg:text-xl md:text-md sm:text-md sm:text-md blog_description">
                      ${data['blog_details'][i]['blog_description']}  
                    </p>
                    <a href='blog'>
                      <button class="readMore-btn">Read More</button>
                    </a>
                  </div>
                </div>
              </div>
          `;
          blogSection.appendChild(blogSlide);
        }
      }else{
        console.log("blog details data is not found data")
      }
      
    })
    .catch((error) => {
      console.error(error, 'PPPPPPPPPPPPPPPPP')
    })


    
  </script>

  {% endblock %}